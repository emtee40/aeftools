<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_13) on Sat Jul 04 07:28:28 PDT 2009 -->
<TITLE>
WebConnectionServer.ServerGuts
</TITLE>

<META NAME="date" CONTENT="2009-07-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WebConnectionServer.ServerGuts";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.Receiver.html" title="interface in com.appenginefan.toolkit.common"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebConnectionServer.ServerGuts.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.appenginefan.toolkit.common</FONT>
<BR>
Interface WebConnectionServer.ServerGuts</H2>
<DL>
<DT><B>Enclosing class:</B><DD><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.html" title="class in com.appenginefan.toolkit.common">WebConnectionServer</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public static interface <B>WebConnectionServer.ServerGuts</B></DL>
</PRE>

<P>
Represents the inner works of a server. An instance of this interface is 
 contained within a WebConnectionServer, which uses its different methods during
 dispatch.
<P>

<P>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#commit(javax.servlet.http.HttpServletRequest)">commit</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commits any changes made to the store in this thread that have not been written yet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#fromHandle(javax.servlet.http.HttpServletRequest, java.lang.String)">fromHandle</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request,
           <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a ServerEndpoint object from a given handle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#loadServerEndpoint(javax.servlet.http.HttpServletRequest, java.lang.String)">loadServerEndpoint</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                   <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;meta)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assumed a given request belongs to an existing ServerEndpoint, loads
 that object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#newServerEndpoint(javax.servlet.http.HttpServletRequest)">newServerEndpoint</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For the given HttpServletRequest, create a new server endpoint.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#rollback(javax.servlet.http.HttpServletRequest)">rollback</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commits any changes made to the store in this thread that have not been written yet.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#toHandle(com.appenginefan.toolkit.common.ServerEndpoint)">toHandle</A></B>(<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A>&nbsp;bus)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts a ServerEndpoint to a unique handle that can be used to persist
 inner state in a data store</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html#writeState(javax.servlet.http.HttpServletRequest, com.appenginefan.toolkit.common.ServerEndpoint, javax.servlet.http.HttpServletResponse)">writeState</A></B>(javax.servlet.http.HttpServletRequest&nbsp;request,
           <A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A>&nbsp;bus,
           javax.servlet.http.HttpServletResponse&nbsp;response)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate the cookies in a servlet response with whatever data is needed
 to support the loadServerEndpoint() method in future requests.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="loadServerEndpoint(javax.servlet.http.HttpServletRequest, java.lang.String)"><!-- --></A><H3>
loadServerEndpoint</H3>
<PRE>
<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A> <B>loadServerEndpoint</B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                                  <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;meta)</PRE>
<DL>
<DD>Assumed a given request belongs to an existing ServerEndpoint, loads
 that object. It is assumed that the ServerEndpoint is in its connected 
 state. Unlike newServerEndpoint(), an existing ServerEndpoint object may have
 additional state in a database. This method is expected to load
 that data, as well.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - the request that triggers the lookup<DD><CODE>meta</CODE> - the meta-tag from the http request
<DT><B>Returns:</B><DD>a ServerEndpoint object if existent, or null if nothing is found</DL>
</DD>
</DL>
<HR>

<A NAME="newServerEndpoint(javax.servlet.http.HttpServletRequest)"><!-- --></A><H3>
newServerEndpoint</H3>
<PRE>
<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A> <B>newServerEndpoint</B>(javax.servlet.http.HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>For the given HttpServletRequest, create a new server endpoint.
 This is the equivalent of a newly opened socket connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - the request that triggers the creation
<DT><B>Returns:</B><DD>a non-null ServerEndpoint object that is not "open" yet</DL>
</DD>
</DL>
<HR>

<A NAME="writeState(javax.servlet.http.HttpServletRequest, com.appenginefan.toolkit.common.ServerEndpoint, javax.servlet.http.HttpServletResponse)"><!-- --></A><H3>
writeState</H3>
<PRE>
void <B>writeState</B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                <A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A>&nbsp;bus,
                javax.servlet.http.HttpServletResponse&nbsp;response)
                throws <A HREF="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Populate the cookies in a servlet response with whatever data is needed
 to support the loadServerEndpoint() method in future requests. Also, write the
 body of the response.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bus</CODE> - the ServerEndpoint to transmit<DD><CODE>response</CODE> - the response to populate
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="toHandle(com.appenginefan.toolkit.common.ServerEndpoint)"><!-- --></A><H3>
toHandle</H3>
<PRE>
<A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>toHandle</B>(<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A>&nbsp;bus)</PRE>
<DL>
<DD>Converts a ServerEndpoint to a unique handle that can be used to persist
 inner state in a data store
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bus</CODE> - a non-null ServerEndpoint
<DT><B>Returns:</B><DD>the unique id of the bus</DL>
</DD>
</DL>
<HR>

<A NAME="fromHandle(javax.servlet.http.HttpServletRequest, java.lang.String)"><!-- --></A><H3>
fromHandle</H3>
<PRE>
<A HREF="../../../../com/appenginefan/toolkit/common/ServerEndpoint.html" title="class in com.appenginefan.toolkit.common">ServerEndpoint</A> <B>fromHandle</B>(javax.servlet.http.HttpServletRequest&nbsp;request,
                          <A HREF="http://java.sun.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;handle)</PRE>
<DL>
<DD>Loads a ServerEndpoint object from a given handle. The ServerEndpoint object is
 usually less "complete" than an object constructed from a request, since it
 does not contain the state stored in the http client, but it is sufficient
 to perform certain manipulattions, like enqueuing outgoing messages.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>handle</CODE> - the handle that should be used for constructing the object
<DT><B>Returns:</B><DD>a ServerEndpoint object, or null if the handle is invalid</DL>
</DD>
</DL>
<HR>

<A NAME="commit(javax.servlet.http.HttpServletRequest)"><!-- --></A><H3>
commit</H3>
<PRE>
void <B>commit</B>(javax.servlet.http.HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Commits any changes made to the store in this thread that have not been written yet.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="rollback(javax.servlet.http.HttpServletRequest)"><!-- --></A><H3>
rollback</H3>
<PRE>
void <B>rollback</B>(javax.servlet.http.HttpServletRequest&nbsp;request)</PRE>
<DL>
<DD>Commits any changes made to the store in this thread that have not been written yet.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/appenginefan/toolkit/common/WebConnectionServer.Receiver.html" title="interface in com.appenginefan.toolkit.common"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/appenginefan/toolkit/common/WebConnectionServer.ServerGuts.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WebConnectionServer.ServerGuts.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
